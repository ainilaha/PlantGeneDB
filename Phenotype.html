<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Phenotype</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Medicio
  * Template URL: https://bootstrapmade.com/medicio-free-bootstrap-theme/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <style>
    .fixed-menu {
      right: 20px;
      z-index: 1000;
    }
    .phenotype-categories .badge {
      font-size: 0.9rem;
      padding: 0.6em 1em;
    }
    .metadata dt {
      font-weight: 500;
      color: #2c4964;
    }
    .table th {
      background-color: #2c4964;
      color: white;
    }
    .filter-section {
  background: rgba(44,73,100,0.03);
  padding: 1.5rem 0;
  border-bottom: 1px solid #dee2e6;
}

.form-select:focus {
  border-color: #2c4964;
  box-shadow: 0 0 0 0.25rem rgba(44,73,100,0.25);
}
.source-link {
  color: #2c4964;
  text-decoration: none;
  transition: all 0.3s;
}

.source-link:hover {
  color: #1a2f45;
  text-decoration: underline;
}

.pagination .page-link {
  color: #2c4964;
}

.pagination .page-item.active .page-link {
  background-color: #fff;
  border-color: #2c4964;
}
/* 新增搜索框样式 */
.input-group-text {
  background-color: #fff;
  border-right: none;
}

#searchInput {
  border-left: none;
}

#searchInput:focus {
  box-shadow: none;
  border-color: #ced4da;
}
/* 分页样式增强 */
.pagination .page-item.active .page-link {
  background-color: #fff;
  border-color: #2c4964;
}

.pagination .page-link {
  color: #2c4964;
  min-width: 40px;
  text-align: center;
}

.pagination .page-item:not(.disabled) .page-link:hover {
  background-color: #f8f9fa;
}
  </style>
</head>

<body class="starter-page-page">

  <header id="header" class="header sticky-top">

    <div class="topbar d-flex align-items-center">
      <div class="container d-flex justify-content-center justify-content-md-between">
        
      </div>
    </div><!-- End Top Bar -->
    

    <div class="branding d-flex align-items-center">

      <div class="container position-relative d-flex align-items-center justify-content-end">
        <a href="index.html" class="logo d-flex align-items-center me-auto">
          <h1 class="sitename">QTP-GMD</h1>
          <!-- Uncomment the line below if you also wish to use a text logo -->
          <!-- <h1 class="sitename">Medicio</h1>  -->
        </a>

        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="index.html">Home</a></li>
            
            <!-- Omics 下拉菜单 -->
            <li class="dropdown"><a href="#"><span>Omics</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
              <ul>
                <li><a href="Genomics.html">Genomics</a></li>
                <li><a href="#transcriptomics">Transcriptomics</a></li>
                <li><a href="#metabolomics">Metabolomics</a></li>
              </ul>
            </li>
        
            <li><a href="Phenotype.html" class="active">Phenotype</a></li>
        
            <!-- Tools 下拉菜单 -->
            <li class="dropdown"><a href="#"><span>Tools</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
              <ul>
                <li><a href="#jbrowse">Jbrowse</a></li>
                <li><a href="#blast">BLAST</a></li>
                <li><a href="#primer3">Primer3 Design</a></li>
                <li><a href="#orthovenn">OrthoVenn</a></li>
                <li><a href="#enrichment">Enrichment</a></li>
                <li><a href="#crispr">CRISPR-Predictor</a></li>
                <li><a href="#gene-search">Gene Search</a></li>
              </ul>
            </li>
        
            <li><a href="#contact">Contact</a></li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>

        <a class="cta-btn" href="login.html">Sign in</a>
      </div>
    </div>
  </header>

  <main class="main">
  
    <!-- Starter Section Section -->
    <!-- 数据表格部分 -->
    <section class="section">
      <div class="container" data-aos="fade-up">
        <!-- 筛选下拉框 -->
        <section class="filter-section mb-4">
          <div class="container">
            <div class="row">
              <div class="col-md-4 text-start">
                <select class="form-select" id="categoryFilter">
                  <option value="">All Categories</option>
                  <option>Abiotic stress</option>
                  <option>Biotic stress</option>
                  <option>Seed quality</option>
                  <option>Yield related</option>
                  <option>Other agronomic</option>
                </select>
              </div>
              <!-- 新增搜索框 -->
        <div class="col-md-6">
          <div class="input-group">
            <span class="input-group-text">
              <i class="bi bi-search"></i>
            </span>
            <input type="text" 
                   class="form-control" 
                   id="searchInput" 
                   placeholder="Search traits or locations...">
          </div>
        </div>
            </div>
            
          </div>
        </section>

        
        <!-- 数据表格 -->
        <div class="table-responsive">
          <table class="table table-striped table-hover" id="dataTable">
            <thead class="table-dark">
              <tr>
                <th>Class</th>
                <th>Trait name</th>
                <th>Records</th>
                <th>Location</th>
                <th>Year</th>
                <th>Treatment</th>
                <th>Source</th>
              </tr>
            </thead>
            <tbody>
              <!-- 示例数据行 -->
              <tr data-category="Abiotic stress">
                <td>Abiotic stress</td>
                <td>Drought resistance index</td>
                <td>78</td>
                <td>Gansu, China</td>
                <td>2020</td>
                <td>Water deficit</td>
                <td><a href="#" class="source-link">Zhang et al. (2021)</a></td>
              </tr>
              <tr data-category="Biotic stress">
                <td>Biotic stress</td>
                <td>Leaf rust resistance</td>
                <td>45</td>
                <td>Heilongjiang, China</td>
                <td>2019</td>
                <td>Pathogen exposure</td>
                <td><a href="#" class="source-link">Wang et al. (2020)</a></td>
              </tr>
              <tr data-category="Seed quality">
                <td>Seed quality</td>
                <td>1000-seed weight</td>
                <td>120</td>
                <td>Sichuan, China</td>
                <td>2021</td>
                <td>Standard</td>
                <td><a href="#" class="source-link">Li et al. (2022)</a></td>
              </tr>
              <tr data-category="Yield related">
                <td>Yield related</td>
                <td>Grain yield per plant</td>
                <td>89</td>
                <td>Henan, China</td>
                <td>2018</td>
                <td>Optimal</td>
                <td><a href="#" class="source-link">Chen et al. (2019)</a></td>
              </tr>
              <tr data-category="Other agronomic">
                <td>Other agronomic</td>
                <td>Plant height</td>
                <td>156</td>
                <td>Jiangsu, China</td>
                <td>2022</td>
                <td>Control</td>
                <td><a href="#" class="source-link">Liu et al. (2023)</a></td>
              </tr>
              <tr data-category="Abiotic stress">
                <td>Abiotic stress</td>
                <td>Salt tolerance index</td>
                <td>62</td>
                <td>Xinjiang, China</td>
                <td>2021</td>
                <td>Salt stress</td>
                <td><a href="#" class="source-link">Zhou et al. (2022)</a></td>
              </tr>
              
              <tr data-category="Yield related">
                <td>Yield related</td>
                <td>Panicle weight</td>
                <td>95</td>
                <td>Hunan, China</td>
                <td>2019</td>
                <td>Optimal</td>
                <td><a href="#" class="source-link">Huang et al. (2020)</a></td>
              </tr>
              
              <tr data-category="Seed quality">
                <td>Seed quality</td>
                <td>Protein content</td>
                <td>78</td>
                <td>Shandong, China</td>
                <td>2020</td>
                <td>Standard</td>
                <td><a href="#" class="source-link">Xu et al. (2021)</a></td>
              </tr>
              <tr data-category="Biotic stress">
                <td>Biotic stress</td>
                <td>Leaf rust resistance</td>
                <td>45</td>
                <td>Heilongjiang, China</td>
                <td>2019</td>
                <td>Pathogen exposure</td>
                <td><a href="#" class="source-link">Wang et al. (2020)</a></td>
              </tr>
              <tr data-category="Seed quality">
                <td>Seed quality</td>
                <td>1000-seed weight</td>
                <td>120</td>
                <td>Sichuan, China</td>
                <td>2021</td>
                <td>Standard</td>
                <td><a href="#" class="source-link">Li et al. (2022)</a></td>
              </tr>
              <tr data-category="Yield related">
                <td>Yield related</td>
                <td>Grain yield per plant</td>
                <td>89</td>
                <td>Henan, China</td>
                <td>2018</td>
                <td>Optimal</td>
                <td><a href="#" class="source-link">Chen et al. (2019)</a></td>
              </tr>
              
              <!-- 更多数据行... -->
            </tbody>
          </table>
        </div>
    
        <!-- 分页 -->
        <!-- 修改分页容器 -->
<nav aria-label="Data pagination" class="mt-4">
  <ul class="pagination justify-content-center" id="paginationContainer">
    <!-- 页码将通过JavaScript动态生成 -->
  </ul>
</nav>
      </div>
    </section>
  </main>

  <footer id="footer" class="footer light-background">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">QTP-GMD</span>
          </a>
          <div class="footer-contact pt-3">
            <p>Research Institute of Highland Agriculture</p>
            <p>University Campus, Building A</p>
            <p class="mt-3"><strong>Tel:</strong> <span>+86 XXX XXXX XXXX</span></p>
            <p><strong>Email:</strong> <span>contact@highlandgrass.edu.cn</span></p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-wechat"></i></a>
            <a href=""><i class="bi bi-envelope"></i></a>
            <a href=""><i class="bi bi-globe"></i></a>
          </div>
        </div>

        <div class="col-lg-3 col-md-3 footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About Project</a></li>
            <li><a href="#">Database Access</a></li>
            <li><a href="#">Research Papers</a></li>
            <li><a href="#">Contact Us</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-3 footer-links">
          <h4>Database Resources</h4>
          <ul>
            <li><a href="#">Wheat Species Data</a></li>
            <li><a href="#">Forage Grass Collection</a></li>
            <li><a href="#">Growth Parameters</a></li>
            <li><a href="#">Environmental Data</a></li>
            <li><a href="#">Research Tools</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Partners</h4>
          <ul>
            <li><a href="#">Research Institutes</a></li>
            <li><a href="#">Universities</a></li>
            <li><a href="#">Agricultural Stations</a></li>
            <li><a href="#">Funding Organizations</a></li>
            <li><a href="#">Collaborators</a></li>
          </ul>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">Highland Grass Database</strong> <span>All Rights
          Reserved</span></p>
      <div class="credits">
        Supported by the Research Institute of Highland Agriculture
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
  const rowsPerPage = 8;
  const table = document.getElementById('dataTable');
  let allRows = Array.from(table.querySelectorAll('tbody tr'));
  let currentPage = 1;
  let filteredRows = allRows;

  // 修改1: 使用正确的分页容器ID
  const paginationContainer = document.getElementById('paginationContainer');

  function initPagination() {
    const totalPages = Math.ceil(filteredRows.length / rowsPerPage);
    paginationContainer.innerHTML = ''; // 修改2: 操作正确的容器

    // 添加上一页按钮
    const prevButton = `<li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
      <a class="page-link" href="#" data-page="prev">Previous</a>
    </li>`;
    paginationContainer.insertAdjacentHTML('beforeend', prevButton);

    // 添加页码按钮
    for (let i = 1; i <= totalPages; i++) {
      const pageItem = `<li class="page-item ${i === currentPage ? 'active' : ''}">
        <a class="page-link" href="#" data-page="${i}">${i}</a>
      </li>`;
      paginationContainer.insertAdjacentHTML('beforeend', pageItem);
    }

    // 添加下一页按钮
    const nextButton = `<li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
      <a class="page-link" href="#" data-page="next">Next</a>
    </li>`;
    paginationContainer.insertAdjacentHTML('beforeend', nextButton);
  }

  function showPage(page) {
    currentPage = page;
    const start = (page - 1) * rowsPerPage;
    const end = start + rowsPerPage;

    allRows.forEach(row => row.style.display = 'none');
    filteredRows.slice(start, end).forEach(row => row.style.display = '');
    initPagination();
  }

  // 修改3: 事件监听器绑定到正确的容器
  paginationContainer.addEventListener('click', function(e) {
    e.preventDefault();
    if (e.target.tagName === 'A') {
      const action = e.target.dataset.page;
      
      if (action === 'prev' && currentPage > 1) {
        showPage(currentPage - 1);
      } else if (action === 'next' && currentPage < Math.ceil(filteredRows.length / rowsPerPage)) {
        showPage(currentPage + 1);
      } else if (!isNaN(action)) {
        showPage(parseInt(action));
      }
    }
  });


  // 新增搜索输入事件监听
  document.getElementById('searchInput').addEventListener('input', filterTable);
  document.getElementById('categoryFilter').addEventListener('change', filterTable);
  // 增强筛选功能（包含分页重置）
  function filterTable() {
    const category = document.getElementById('categoryFilter').value;
    const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();

    filteredRows = allRows.filter(row => {
      const rowCategory = row.dataset.category;
      const cells = row.querySelectorAll('td');
      let rowText = '';
      
      // 遍历除"Source"列外的所有单元格
      cells.forEach((cell, index) => {
        if(index !== 6) { // 跳过第7列(Source)
          rowText += cell.textContent.toLowerCase() + ' ';
        }
      });

      return (!category || rowCategory === category) &&
             (!searchTerm || rowText.includes(searchTerm));
    });

    currentPage = 1;
    showPage(currentPage);
  }

  // 初始化显示第一页
  filterTable();
});
    </script>
</body>

</html>
